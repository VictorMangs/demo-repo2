<!DOCTYPE HTML>
<html>
  <head>
    <div class="space stars1"></div>
    <div class="space stars2"></div>
    <div class="space stars3"></div>
    <meta name="robots" content="index, all" />
    <script src="http://www.webglearth.com/v2/api.js"></script>
    <title>Connect2One</title>
    <script>
      var map;
      function init() {
        map = WE.map('map', {
          center: [36.057944835, -112.18688965],
          zoom: 3,
          dragging: true,
          scrollWheelZoom: true
        });

        var baselayer = WE.tileLayer('https://webglearth.github.io/webglearth2-offline/{z}/{x}/{y}.jpg', {
          tileSize: 256,
          bounds: [[-85, -180], [85, 180]],
          minZoom: 0,
          maxZoom: 3,
          attribution: 'WebGLEarth example',
          tms: true
        }).addTo(map);

        //Add TileJSON layer
        var json = {"profile": "mercator", "name": "Grand Canyon USGS", "format": "png", "bounds": [-112.26379395, 35.98245136, -112.10998535, 36.13343831], "minzoom": 0, "version": "1.0.0", "maxzoom": 10, "center": [-112.18688965, 36.057944835, 13], "type": "overlay", "description": "", "basename": "grandcanyon", "tilejson": "2.0.0", "sheme": "xyz", "tiles": ["http://tileserver.maptiler.com/grandcanyon/{z}/{x}/{y}.png"]};
        var grandcanyon = WE.tileLayerJSON(json);
        grandcanyon.addTo(map);

        grandcanyon.setOpacity(0.7);
        document.getElementById('opacity2').addEventListener('change', function(e) {
          grandcanyon.setOpacity(e.target.value);
        });
        //WE.marker([json.center[1], json.center[0]]).addTo(map);


        //Print coordinates of the mouse
        map.on('mousemove', function(e) {
          document.getElementById('coords').innerHTML = e.latlng.lat + ', ' + e.latlng.lng;
        });
      }

      function addSomeMarkers() {
        document.getElementById('addmarkers').disabled = true;

        //map.setView([51.505, 0], 5);
        //var marker = WE.marker([51.5, -0.09]).addTo(map);
        //marker.bindPopup("<b>Hello world!</b><br>I am a popup.<br /><span style='font-size:10px;color:#999'>Tip: Another popup is hidden in Cairo..</span>", {maxWidth: 150, closeButton: true}).openPopup();

        //var marker2 = WE.marker([30.058056, 31.228889]).addTo(map);
        //marker2.bindPopup("<b>Cairo</b><br>Yay, you found me!<br />Here, enjoy another polygon..", {maxWidth: 120, closeButton: false});

        var polygonA = WE.polygon([[50, 1], [51, 0.5], [50.5, 2.5]]).addTo(map);
        var polygonB = WE.polygon([[50, 3], [51, 2.5], [50.5, 4.5]], {
          color: '#ff0',
          opacity: 1,
          fillColor: '#f00',
          fillOpacity: 0.1,
          weight: 2
        }).addTo(map);

        var anotherPolygon = function(e) {
          WE.polygon([[30, 30], [29, 31], [30, 32], [32, 32], [31, 30]], {
            color: '#000',
            opacity: 1,
            fillColor: '#0f0',
            fillOpacity: 0.7,
            weight: 2
          }).addTo(map);
          //marker2.off('click', anotherPolygon);
        };
        //marker2.on('click', anotherPolygon);
      }

      function setZoom(zoom) {
        map.setZoom(zoom);
      }
      
      function getZoomLevel() {
        alert('Current zoom is: ' + Math.round(map.getZoom()));
      }

      function setPositionToEverest() {
        map.setView([27.988056, 86.925278]);
      }

      function getCurrentCenter() {
        alert(map.getCenter());
      }

      function flyToJapan() {
        map.fitBounds([[22, 122], [48, 154]]);
        map.panInsideBounds([[22, 122], [48, 154]],
                {heading: 90, tilt: 25, duration: 1});
      }

      function load(){
        window.location='transition.html';

      }

      function panTo(coords) {
        map.panTo(coords);
        setTimeout(load,3000)
      }
    </script>
    <style>
        
        body {
  background: radial-gradient(circle at bottom, navy 0, black 100%);
  height: 100vh;
  overflow: hidden;
}

.space {
  background: rgba(128, 0, 128, 0.1) center / 200px 200px round;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
}

.stars1 {
  animation: space 180s ease-in-out infinite;
  background-image:
    radial-gradient(
      1px 1px at 25px 5px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      1px 1px at 50px 25px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      1px 1px at 125px 20px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      1.5px 1.5px at 50px 75px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      2px 2px at 15px 125px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      2.5px 2.5px at 110px 80px, 
      white, 
      rgba(255, 255, 255, 0)
    );
}
.stars2 {
  animation: space 240s ease-in-out infinite;
  background-image:
    radial-gradient(
      1px 1px at 75px 125px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      1px 1px at 100px 75px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      1.5px 1.5px at 199px 100px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      2px 2px at 20px 50px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      2.5px 2.5px at 100px 5px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      2.5px 2.5px at 5px 5px, 
      white, 
      rgba(255, 255, 255, 0)
    );
}
    .stars3 {
  animation: space 300s ease-in-out infinite;
  background-image:
    radial-gradient(
      1px 1px at 10px 10px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      1px 1px at 150px 150px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      1.5px 1.5px at 60px 170px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      1.5px 1.5px at 175px 180px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      2px 2px at 195px 95px, 
      white, 
      rgba(255, 255, 255, 0)
    ),
    radial-gradient(
      2.5px 2.5px at 95px 145px, 
      white, 
      rgba(255, 255, 255, 0)
    );
}

      html, body{padding: 0; margin: 0;}
      #map{top: 0; right: 0; bottom: 0; left: 0; position: absolute !important;}
      #coords{position: absolute; bottom: 10px; right: 10px; z-index: 100000;}
      #buttons {position: absolute; top:10px; left: 10px;}
      #layercontrol{position: absolute; top:10px; right: 10px;}
    </style>
  </head>
  <body onload="init()">
    <div id="map"></div>
    <div id="coords"></div>
    <div id="buttons">
      <input type="button" value="Fly to Middle East" onclick="panTo([29, 42]);"><br><br>
      <input type="button" value="Fly to North America" onclick="panTo([47, -101]);"><br><br>
      <input type="button" value="Fly to Asia" onclick="panTo([43, 87]);"><br><br>
      <input type="button" value="Fly to Europe" onclick="panTo([54, 25]);"><br><br>
      <input type="button" value="Fly to South America" onclick="panTo([-15, -56]);"><br><br>
      <input type="button" value="Fly to Africa" onclick="panTo([2, 19]);"><br><br>
      <input type="button" value="Fly to Australia" onclick="panTo([-24, 133]);"><br><br>
      <input type="button" value="What's my current position?" onclick="getCurrentCenter();"><br><br>
      <input type="button" value="Reset Zoom" onclick="setZoom(3);"><br>
    </div>
  </body>
</html>
